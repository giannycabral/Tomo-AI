<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tomo-AI</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/animations.css" />
  <link rel="stylesheet" href="css/decorations.css" />
  <link rel="stylesheet" href="css/modal.css" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
 </head>
<body>
  <!-- Bolhas decorativas de fundo -->
  <div class="bubble" style="width: 40px; height: 40px; top: 10%; left: 10%; --move-x: 100px; --move-y: -150px;"></div>
  <div class="bubble" style="width: 25px; height: 25px; top: 15%; right: 20%; --move-x: -80px; --move-y: -120px;"></div>
  <div class="bubble" style="width: 50px; height: 50px; top: 80%; left: 15%; --move-x: 130px; --move-y: -200px;"></div>
  <div class="bubble" style="width: 35px; height: 35px; top: 75%; right: 10%; --move-x: -100px; --move-y: -180px;"></div>
  <div class="bubble" style="width: 20px; height: 20px; top: 40%; left: 8%; --move-x: 70px; --move-y: -100px;"></div>
  <div class="bubble" style="width: 30px; height: 30px; top: 30%; right: 8%; --move-x: -110px; --move-y: -150px;"></div>
  
  <!-- Novos elementos decorativos flutuantes -->
  <div class="floating-decoration flower-float-1">
    <img src="images/svg/flower.svg" alt="Flor flutuante" class="svg-decoration">
  </div>
  <div class="floating-decoration leaf-float-1">
    <img src="images/svg/leaf.svg" alt="Folha flutuante" class="svg-decoration">
  </div>
  <div class="floating-decoration sprout-float-1">
    <img src="images/svg/sprout.svg" alt="Broto flutuante" class="svg-decoration">
  </div>
  <div class="floating-decoration flower-float-2">
    <img src="images/svg/flower.svg" alt="Flor flutuante" class="svg-decoration">
  </div>
  <div class="floating-decoration leaf-float-2">
    <img src="images/svg/leaf.svg" alt="Folha flutuante" class="svg-decoration">
  </div>

  <div class="chatbot-container">
    <div class="mascot-container">
      <img id="capivara-gif" alt="Capivara kawaii piscando os olhos" class="mascot-gif">
      <!-- Fallback da imagem da capivara caso o GIF n√£o carregue -->
      <div id="capivara-fallback" style="display: none; font-size: 100px; text-align: center;">ü¶´</div>
      <!-- Elementos decorativos ao redor do mascote -->
      <div class="decoration grass-left">
        <img src="images/svg/grass.svg" alt="Grama" class="svg-decoration">
      </div>
      <div class="decoration flower-right">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration grass-right">
        <img src="images/svg/grass.svg" alt="Grama" class="svg-decoration">
      </div>
      <div class="decoration flower-left">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration leaf-top">
        <img src="images/svg/leaf.svg" alt="Folha" class="svg-decoration">
      </div>
      <div class="decoration sprout">
        <img src="images/svg/sprout.svg" alt="Broto" class="svg-decoration">
      </div>
    </div>
    <h1 class="title">Oi! Eu sou Tomo-AI!</h1>
    
    <!-- Elementos decorativos no topo da caixa de chat -->
    <div class="chat-decorations-top">
      <div class="decoration flower-top-left">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration leaf-top-right">
        <img src="images/svg/leaf.svg" alt="Folha" class="svg-decoration">
      </div>
      <!-- Novos elementos decorativos no topo do chat -->
      <div class="decoration sprout-top-middle">
        <img src="images/svg/sprout.svg" alt="Broto" class="svg-decoration">
      </div>
      <div class="decoration flower-top-center">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
    </div>
    
    <div id="chat" class="chat-box">
      <div class="bot-message">Ol√°! Sou o Tomo, sua capivara amiga. Vamos conversar? üçÉ</div>
    </div>
    
    <!-- Elementos decorativos laterais da caixa de chat -->
    <div class="chat-decorations-side">
      <div class="decoration flower-chat-left">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration flower-chat-right">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <!-- Novos elementos decorativos nas laterais do chat -->
      <div class="decoration leaf-chat-left-bottom">
        <img src="images/svg/leaf.svg" alt="Folha" class="svg-decoration">
      </div>
      <div class="decoration sprout-chat-right-bottom">
        <img src="images/svg/sprout.svg" alt="Broto" class="svg-decoration">
      </div>
    </div>
    
    <form id="chat-form">
      <input type="text" id="user-input" placeholder="Converse comigo..." required />
      <button type="submit">Enviar üíå</button>
    </form>
    
    <!-- Elementos decorativos no formul√°rio -->
    <div class="form-decorations">
      <div class="decoration grass-form-left">
        <img src="images/svg/grass.svg" alt="Grama" class="svg-decoration">
      </div>
      <div class="decoration sprout-form-right">
        <img src="images/svg/sprout.svg" alt="Broto" class="svg-decoration">
      </div>
      <!-- Novos elementos decorativos no formul√°rio -->
      <div class="decoration flower-form-center">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration leaf-form-left">
        <img src="images/svg/leaf.svg" alt="Folha" class="svg-decoration">
      </div>
    </div>
    
    <!-- Bot√£o de configura√ß√£o para inserir chave API -->
    <div class="settings-button" id="show-api-key-modal">
      <span title="Configurar API">‚öôÔ∏è</span>
      <!-- Decora√ß√£o pequena perto do bot√£o de configura√ß√£o -->
      <div class="settings-decoration">
        <img src="images/svg/leaf.svg" alt="Folha" class="small-decoration">
      </div>
      <div class="settings-tooltip">Configurar API</div>
    </div>
  </div>
  
  <!-- Modal para chave de API -->
  <div id="api-key-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Configurar Tomo-AI</h2>
      <p>Insira sua chave API do Google Gemini abaixo:</p>
      
      <div class="api-key-input-container">
        <input type="password" id="api-key-input" placeholder="Sua chave API Gemini" />
        <button id="toggle-api-key-visibility" type="button">üëÅÔ∏è</button>
      </div>
      <p class="info-text">Sua chave API ser√° armazenada apenas na sess√£o atual do navegador e n√£o ser√° salva em nenhum arquivo.</p>
      
      <!-- Sele√ß√£o de modelo Gemini -->
      <div class="model-selection">
        <label for="model-select">Modelo Gemini:</label>
        <select id="model-select" class="model-select">
          <option value="gemini-1.5-pro">Gemini 1.5 Pro (Padr√£o)</option>
          <option value="gemini-2.0-flash">Gemini 2.0 Flash (Mais R√°pido)</option>
          <option value="gemini-pro">Gemini Pro (Legado)</option>
        </select>
        <div class="model-info">O modelo selecionado afeta a qualidade e velocidade das respostas.</div>
      </div>
      
      <div class="modal-buttons">
        <button id="save-api-key">Salvar</button>
        <button id="clear-api-key">Limpar</button>
      </div>
      
      <div id="api-status" class="api-status">
        <div class="status-indicator"></div>
        <span>Status desconhecido</span>
      </div>
      
      <!-- Decora√ß√µes no modal -->
      <div class="decoration modal-flower">
        <img src="images/svg/flower.svg" alt="Flor" class="svg-decoration">
      </div>
      <div class="decoration modal-leaf">
        <img src="images/svg/leaf.svg" alt="Folha" class="svg-decoration">
      </div>
      <div class="decoration modal-sprout">
        <img src="images/svg/sprout.svg" alt="Broto" class="svg-decoration">
      </div>
    </div>
  </div>

  <script src="js/image-helper.js"></script>
  <script src="js/script.js"></script>
  
  <!-- Script de diagn√≥stico para problemas de carregamento de imagem -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Verificar se a imagem da capivara carregou
      const mascotGif = document.getElementById('capivara-gif');
      console.log('Status de carregamento da imagem:', {
        complete: mascotGif.complete,
        naturalHeight: mascotGif.naturalHeight,
        naturalWidth: mascotGif.naturalWidth,
        src: mascotGif.src
      });
      
      // Verificar caminhos absolutos
      const baseUrl = window.location.origin;
      console.log('Base URL:', baseUrl);
      console.log('Caminhos testados:');
      console.log('- ' + baseUrl + '/images/capivara1.gif');
      console.log('- ' + window.location.href.split('/').slice(0, -1).join('/') + '/images/capivara1.gif');
      
      // Tentar verificar diretamente o arquivo via API
      if (baseUrl.includes('localhost') || baseUrl.includes('127.0.0.1')) {
        fetch(baseUrl + '/check-image')
          .then(res => {
            console.log('Verifica√ß√£o do arquivo via API:', res.status === 200 ? 'Dispon√≠vel' : 'Indispon√≠vel');
          })
          .catch(err => {
            console.error('Erro ao verificar arquivo via API:', err);
          });
          
        fetch(baseUrl + '/api/file-check')
          .then(res => res.json())
          .then(data => {
            console.log('Diagn√≥stico de arquivos est√°ticos:', data);
          })
          .catch(err => {
            console.error('Erro ao verificar arquivos est√°ticos:', err);
          });
      }
    });
  </script>
</body>
</html>